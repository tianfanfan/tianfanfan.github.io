<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TUIKit For Web React | Chat Tutorials</title>
    <meta name="description" content="Tencent Chat Tutorials">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/assets/style.DTeQRHWT.css" as="style">
    <script type="module" src="/assets/chunks/metadata.d8eba71d.js"></script>
    <script type="module" src="/assets/app.XKn8nIAd.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BaVYOICw.js">
    <link rel="modulepreload" href="/assets/chunks/theme.BG7OpP0h.js">
    <link rel="modulepreload" href="/assets/guide_react.md.CTlTLI5Z.lean.js">
    <link rel="icon" href="/favicon.svg">
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-401c6330><!--[--><!--]--><!--[--><span tabindex="-1" data-v-096d4d26></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-096d4d26> Skip to content </a><!--]--><!----><header class="VPNav" data-v-401c6330 data-v-3bb87341><div class="VPNavBar top" data-v-3bb87341 data-v-f73cdac6><div class="wrapper" data-v-f73cdac6><div class="container" data-v-f73cdac6><div class="title" data-v-f73cdac6><div class="VPNavBarTitle" data-v-f73cdac6 data-v-1c3ff130><a class="title" href="/" data-v-1c3ff130><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" width="24" height="24" alt data-v-1c693b17><!--]--><span data-v-1c3ff130>Chat Tutorials</span><!--[--><!--]--></a></div></div><div class="content" data-v-f73cdac6><div class="content-body" data-v-f73cdac6><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f73cdac6><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f73cdac6 data-v-d2dcc1de><span id="main-nav-aria-label" class="visually-hidden" data-v-d2dcc1de>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-d2dcc1de data-v-ce7084cf><!--[--><span data-v-ce7084cf>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/react" tabindex="0" data-v-d2dcc1de data-v-ce7084cf><!--[--><span data-v-ce7084cf>Guide</span><!--]--></a><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f73cdac6 data-v-a7bcfdee data-v-c5aea2e0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/TencentCloud/TIMSDK" aria-label="github" target="_blank" rel="noopener" data-v-c5aea2e0 data-v-e5242de7><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f73cdac6 data-v-84afd7bd data-v-d8ee07ce><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d8ee07ce><span class="vpi-more-horizontal icon" data-v-d8ee07ce></span></button><div class="menu" data-v-d8ee07ce><div class="VPMenu" data-v-d8ee07ce data-v-0e4de151><!----><!--[--><!--[--><!----><!----><div class="group" data-v-84afd7bd><div class="item social-links" data-v-84afd7bd><div class="VPSocialLinks social-links-list" data-v-84afd7bd data-v-c5aea2e0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/TencentCloud/TIMSDK" aria-label="github" target="_blank" rel="noopener" data-v-c5aea2e0 data-v-e5242de7><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f73cdac6 data-v-3a81a519><span class="container" data-v-3a81a519><span class="top" data-v-3a81a519></span><span class="middle" data-v-3a81a519></span><span class="bottom" data-v-3a81a519></span></span></button></div></div></div></div><div class="divider" data-v-f73cdac6><div class="divider-line" data-v-f73cdac6></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-401c6330 data-v-28062ae6><div class="container" data-v-28062ae6><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-28062ae6 data-v-ec0b5e50><button data-v-ec0b5e50>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-401c6330 data-v-c06df4dc><div class="VPDoc has-aside" data-v-c06df4dc data-v-a4863104><!--[--><!--]--><div class="container" data-v-a4863104><div class="aside" data-v-a4863104><div class="aside-curtain" data-v-a4863104></div><div class="aside-container" data-v-a4863104><div class="aside-content" data-v-a4863104><div class="VPDocAside" data-v-a4863104 data-v-a2fe1a7d><!--[--><!--]--><!--[--><!--]--><div class="TVPStepNav" data-v-a2fe1a7d data-v-051cc34a><!----><ol class="tvp-step-nav-container ver" navtitle data-v-051cc34a data-v-512a9711><!--[--><!--]--></ol></div><!--[--><!--]--><div class="spacer" data-v-a2fe1a7d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a4863104><div class="content-container" data-v-a4863104><!--[--><!--]--><main class="main" data-v-a4863104><div style="position:relative;" class="vp-doc _guide_react" data-v-a4863104><div><div class="tvp-step-container"><!--[--><div class="tvp-step-child" data-step-id="1_2" data-step-value="tuikit-for-web-react"><div style="display:none;"><!--[--><h1 id="tuikit-for-web-react" tabindex="-1" data-in-steps="1">TUIKit For Web React <a class="header-anchor" href="#tuikit-for-web-react" aria-label="Permalink to &quot;TUIKit For Web React&quot;">​</a></h1><p>TUIKit 是基于腾讯云 IM SDK 的一款 UI 组件库，它提供了一些通用的 UI 组件，包含会话、聊天、关系链、群组、音视频通话等功能。 基于 UI 组件您可以像搭积木一样快速搭建起自己的业务逻辑。</p><p>TUIKit 中的组件在实现 UI 功能的同时，会调用 IM SDK 相应的接口实现 IM 相关逻辑和数据的处理，因而开发者在使用 TUIKit 时只需关注自身业务或个性化扩展即可。 基于 React 开发的 TUIKit 界面风格更契合境外客户的使用习惯，而且支持国际化，如果您的业务有出海的需求，欢迎接入。</p><!--]--></div></div><!--]--></div><div class="tvp-step-container"><!--[--><div class="tvp-step-child" data-step-id="9_10" data-step-value="init-application"><div style="display:none;"><!--[--><h1 id="init-application" tabindex="-1" data-in-steps="1">Init Application <a class="header-anchor" href="#init-application" aria-label="Permalink to &quot;Init Application&quot;">​</a></h1><p>即时通信 IM 通过“应用”来管理不同的业务或项目，您必须创建应用才能接入 IM 服务。</p><p>您可以为不同的业务或项目、测试环境或生产环境分别创建不同的应用，不同应用之间的数据不互通。每个腾讯云账号最多可以创建300个应用。您可以在 IM 控制台的应用管理中创建及管理应用。</p><h2 id="创建应用" tabindex="-1" data-in-steps="1">创建应用 <a class="header-anchor" href="#创建应用" aria-label="Permalink to &quot;创建应用&quot;">​</a></h2><h4 id="登录-即时通信-im-控制台-在左侧导航栏选择应用管理-单击创建新应用。" tabindex="-1" data-in-steps="1">登录 即时通信 IM 控制台，在左侧导航栏选择应用管理，单击创建新应用。 <a class="header-anchor" href="#登录-即时通信-im-控制台-在左侧导航栏选择应用管理-单击创建新应用。" aria-label="Permalink to &quot;登录 即时通信 IM 控制台，在左侧导航栏选择应用管理，单击创建新应用。&quot;">​</a></h4><p><img src="https://qcloudimg.tencent-cloud.cn/image/document/92af8cc97f2f4872f8c402c624cfb601.png" alt="创建应用"><br><br></p><h4 id="在弹出界面中依次输入应用名称、选择合适的数据中心、设置标签信息-可选-。" tabindex="-1" data-in-steps="1">在弹出界面中依次输入应用名称、选择合适的数据中心、设置标签信息（可选）。 <a class="header-anchor" href="#在弹出界面中依次输入应用名称、选择合适的数据中心、设置标签信息-可选-。" aria-label="Permalink to &quot;在弹出界面中依次输入应用名称、选择合适的数据中心、设置标签信息（可选）。&quot;">​</a></h4><p><img src="https://qcloudimg.tencent-cloud.cn/image/document/e4fe392d62d175788648a28fba805588.png" alt="创建应用"><br><br></p><h4 id="应用列表查看密钥并记录下来" tabindex="-1" data-in-steps="1">应用列表查看密钥并记录下来 <a class="header-anchor" href="#应用列表查看密钥并记录下来" aria-label="Permalink to &quot;应用列表查看密钥并记录下来&quot;">​</a></h4><p><img src="https://qcloudimg.tencent-cloud.cn/image/document/7bc0c7b7407baa0828b372123e42080b.png" alt="创建应用"></p><!--]--></div></div><div class="tvp-step-child" data-step-id="33_34" data-step-value="数据汇总"><div style="display:none;"><!--[--><h2 id="数据汇总" tabindex="-1" data-in-steps="1">数据汇总 <a class="header-anchor" href="#数据汇总" aria-label="Permalink to &quot;数据汇总&quot;">​</a></h2><p>到这里，我们获取到两个配置， <code>SDKAppID</code> 和 <code>Secret</code>。需要保密和牢记。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SDKAppID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1400670488</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Secret:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9432bab85190b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">****************************************</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">71dd99dcf7a</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">注意</p><p>应用ID <code>SDKAppID</code> 并不敏感，但是 <code>Secret</code> 非常敏感，请不要对外泄露。</p></div><!--]--></div></div><!--]--></div><div class="tvp-step-container"><!--[--><div class="tvp-step-child" data-step-id="47_48" data-step-value="项目集成与登录"><div style="display:none;"><!--[--><h1 id="项目集成与登录" tabindex="-1" data-in-steps="1">项目集成与登录 <a class="header-anchor" href="#项目集成与登录" aria-label="Permalink to &quot;项目集成与登录&quot;">​</a></h1><h2 id="前端无-ui-集成" tabindex="-1" data-in-steps="1">前端无 UI 集成 <a class="header-anchor" href="#前端无-ui-集成" aria-label="Permalink to &quot;前端无 UI 集成&quot;">​</a></h2><h3 id="安装-sdk" tabindex="-1" data-in-steps="1">安装 SDK <a class="header-anchor" href="#安装-sdk" aria-label="Permalink to &quot;安装 SDK&quot;">​</a></h3><p>在您的项目中使用 npm 安装相应的 IM SDK 依赖。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @tencentcloud/chat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 发送图片、文件等消息需要腾讯云即时通信</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 上传插件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tim-upload-plugin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save</span></span></code></pre></div><h3 id="在你的-web-项目中引入模块" tabindex="-1" data-in-steps="1">在你的 Web 项目中引入模块 <a class="header-anchor" href="#在你的-web-项目中引入模块" aria-label="Permalink to &quot;在你的 Web 项目中引入模块&quot;">​</a></h3><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-P0isZ" id="tab-m8J9ebf" checked><label for="tab-m8J9ebf">imChat.js</label></div><div class="blocks"><div class="language-javascript vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TencentCloudChat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@tencentcloud/chat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TIMUploadPlugin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;tim-upload-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  SDKAppID: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1400670488</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建 SDK 实例，`TIM.create()`方法对于同一个 `SDKAppID` 只会返回同一份实例</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SDK 实例通常用 chat 表示</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TencentCloudChat.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setLogLevel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 普通级别，日志量较多，接入时建议使用</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// chat.setLogLevel(1); // release 级别，SDK 输出关键信息，生产环境时建议使用</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注册腾讯云即时通信 IM 上传插件</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tim-upload-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: TIMUploadPlugin });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { chat };</span></span></code></pre></div></div></div><hr><h3 id="后端实现" tabindex="-1" data-in-steps="1">后端实现 <a class="header-anchor" href="#后端实现" aria-label="Permalink to &quot;后端实现&quot;">​</a></h3><p>即时通信 IM 提供全球接入、单聊、群聊、消息推送、资料关系链托管、账号鉴权等全方位解决方案，并提供完备的 App 接入、后台管理接口。</p><p><img src="https://qcloudimg.tencent-cloud.cn/image/document/1d13ef6b1c5c5e5438b38b13a00e98d5.png" alt="架构"></p><p><code>Chat</code> 后台已实现大部分的功能，但是使用者的开发者后台还是要有基本的功能，在此处，后端需要验证用户的账号密码，根据自己的业务需求，实现自己的验证逻辑，返回验证成功且返回服务端计算的用户密钥。</p><p>密钥计算参考 <a href="https://cloud.tencent.com/document/product/269/32688" target="_blank" rel="noreferrer">生成 UserSign</a>，如果您是 <code>node.js</code> 相关后台框架，可以参考 <a href="https://github.com/tencentyun/tls-sig-api-v2-node/blob/master/TLSSigAPIv2.js" target="_blank" rel="noreferrer">开源示例</a>。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-N2wgP" id="tab-Z4w7vdc" checked><label for="tab-Z4w7vdc">serve.js</label><input type="radio" name="group-N2wgP" id="tab-byCfrDO"><label for="tab-byCfrDO">./serve-util/TLSSigAPIv2.js</label></div><div class="blocks"><div class="language-javascript vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> express</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;express&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> createError</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http-errors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TLSSigAPIv2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./serve-util/TLSSigAPIv2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">urlencoded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ extended: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sdkAppID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1400670488</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secret</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 假设我们数据库有以下账号成员信息</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> members</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tom: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tom&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    passWord: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;catchMice&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/user-sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.body.userName;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (members[userName]) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setHeader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // you can cache this object as you lick</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> api</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TLSSigAPIv2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Api</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sdkAppID, secret);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // expire: 180d</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> api.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">genSig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userName, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">86400</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ sig });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;no user name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error handler</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.locals.message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err.message;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.locals.error </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;env&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ message: err.message });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { app };</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// copy from https://github.com/tencentyun/tls-sig-api-v2-node/blob/master/TLSSigAPIv2.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;crypto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> zlib </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zlib&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base64url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> newBuffer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Buffer.from </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fill, encoding) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Buffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fill, encoding);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">base64url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unescape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unescape</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (str.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">_</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;=&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">\-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">\*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.Api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Api;</span></span></code></pre></div></div></div><!--]--></div></div><div class="tvp-step-child" data-step-id="171_172" data-step-value="完整代码"><div style="display:none;"><!--[--><h2 id="完整代码" tabindex="-1" data-in-steps="1">完整代码 <a class="header-anchor" href="#完整代码" aria-label="Permalink to &quot;完整代码&quot;">​</a></h2><!--[--><!--[--><div class="light sp-c-fVPbOs sp-c-fVPbOs-gMQIch-variant-light sp-wrapper" style=""><!--[--><!--[--><div class="sp-c-GqtLb sp-layout"><!--[--><div class="sp-c-eMtObc sp-editor sp-stack sp-editor" style="height:undefinedpx;flex-grow:50;flex-shrink:50;flex-basis:0;overflow:hidden;"><!--[--><div class="sp-c-dyHYiL sp-tabs" translate="no"><div aria-label="Select active file" class="sp-c-gGbYbQ sp-tabs-scrollable-container" role="tablist"><!--[--><button aria-selected="true" class="sp-c-dzyEVt sp-c-kuvqxy sp-tab-button" data-active="true" role="tab" title="/App.tsx" type="button" style="display:flex !important;">App.tsx<!----></button><!--]--></div></div><div class="sp-c-gtcpyq sp-code-editor"><div aria-autocomplete="list" aria-label="Code Editor for App.tsx" aria-multiline="true" class="sp-pristine sp-typescript sp-c-jOWzsE sp-c-jkvvao sp-cm" role="textbox" tabindex="0" translate="no"><pre class="sp-c-fWymNx sp-pre-placeholder" style="margin-left:var(--sp-space-11);"><!--[--><span class="sp-syntax-keyword">export</span> <span class="sp-syntax-keyword">default</span> <span class="sp-syntax-keyword">function</span> <span class="sp-syntax-definition">App</span><span class="sp-syntax-punctuation">(</span><span class="sp-syntax-punctuation">)</span> <span class="sp-syntax-punctuation">{</span>
  <span class="sp-syntax-keyword">const</span> <span class="sp-syntax-plain">data</span><span class="sp-syntax-punctuation">:</span> string = <span class="sp-syntax-string">&quot;world&quot;</span>

  <span class="sp-syntax-keyword">return</span> <span class="sp-syntax-punctuation">&lt;</span><span class="sp-syntax-tag">h1</span><span class="sp-syntax-punctuation">&gt;</span>Hello <span class="sp-syntax-punctuation">{</span><span class="sp-syntax-plain">data</span><span class="sp-syntax-punctuation">}</span><span class="sp-syntax-punctuation">&lt;/</span><span class="sp-syntax-tag">h1</span><span class="sp-syntax-punctuation">&gt;</span>
<span class="sp-syntax-punctuation">}</span>

<!--]--></pre></div><!----></div><!--]--></div><div class="sp-c-gvjhpQ sp-c-gvjhpQ-xpXQZ-direction-horizontal sp-resize-handler" data-direction="horizontal" style="left:calc(50% - 5px);"></div><div class="sp-c-eMtObc sp-preset-column sp-stack sp-preset-column" style="flex-grow:50;flex-shrink:50;flex-basis:0;width:50%;gap:0;"><!--[--><!--[--><div class="sp-c-eMtObc sp-preview sp-stack sp-preview" style="flex-grow:70;flex-shrink:70;flex-basis:0;overflow:hidden;" shownavigator="false" showrefreshbutton="true" showopenincodesandbox="true" showsandpackerroroverlay="true" showopennewtab="true" showrestartbutton="true" startroute="/"><!--[--><!----><div class="sp-c-juMdfR sp-preview-container"><iframe class="sp-c-fgviib sp-preview-iframe" style="" title="Sandpack Preview"></iframe><div class="sp-c-kwibBT sp-preview-actions"><button title class="sp-icon-standalone sp-c-dzyEVt sp-c-gMfcns sp-c-dEbKhQ sp-c-dtSzFQ sp-button sp-c-dtSzFQ" type="button"><!--[--><svg fill="currentColor" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><!--[--><title>Open browser console</title><path d="M5.65871 3.62037C5.44905 3.44066 5.1334 3.46494 4.95368 3.6746C4.77397 3.88427 4.79825 4.19992 5.00792 4.37963L5.65871 3.62037ZM5.00792 11.6204C4.79825 11.8001 4.77397 12.1157 4.95368 12.3254C5.1334 12.5351 5.44905 12.5593 5.65871 12.3796L5.00792 11.6204ZM9.9114 7.92407L10.2368 7.54445L9.9114 7.92407ZM5.00792 4.37963L9.586 8.3037L10.2368 7.54445L5.65871 3.62037L5.00792 4.37963ZM9.586 7.6963L5.00792 11.6204L5.65871 12.3796L10.2368 8.45555L9.586 7.6963ZM9.586 8.3037C9.39976 8.14407 9.39976 7.85594 9.586 7.6963L10.2368 8.45555C10.5162 8.2161 10.5162 7.7839 10.2368 7.54445L9.586 8.3037Z"></path><path d="M10 11.5C9.72386 11.5 9.5 11.7239 9.5 12C9.5 12.2761 9.72386 12.5 10 12.5V11.5ZM14.6667 12.5C14.9428 12.5 15.1667 12.2761 15.1667 12C15.1667 11.7239 14.9428 11.5 14.6667 11.5V12.5ZM10 12.5H14.6667V11.5H10V12.5Z"></path><!--]--></svg><!----><!--]--></button><button title class="sp-icon-standalone sp-c-dzyEVt sp-c-gMfcns sp-c-dEbKhQ sp-button" type="button"><!--[--><svg fill="none" height="16" viewBox="0 0 16 16" stroke="currentColor" width="16" xmlns="http://www.w3.org/2000/svg"><!--[--><title>Restart script</title><path d="M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118" stroke-linecap="round"></path><path d="M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623" stroke-linecap="round"></path><path d="M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683" stroke-linecap="round"></path><path d="M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332" stroke-linecap="round"></path><path d="M10 10L12 12L10 14" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14.667 14L12.667 14" stroke-linecap="round" stroke-linejoin="round"></path><!--]--></svg><!--]--></button><!----><!----><a href="https://codesandbox.io/api/v1/sandboxes/define?[object Object]&amp;environment=server" rel="noreferrer noopener" target="_blank" title="Open in CodeSandbox" class="sp-icon-standalone sp-c-dzyEVt sp-c-gMfcns sp-c-dEbKhQ sp-button"><!--[--><svg fill="none" height="16" viewBox="0 0 16 16" stroke="currentColor" width="16" xmlns="http://www.w3.org/2000/svg"><!--[--><title>Open on CodeSandbox</title><path d="M6.66665 3.33337H4.33331C3.78103 3.33337 3.33331 3.78109 3.33331 4.33337V11.6667C3.33331 12.219 3.78103 12.6667 4.33331 12.6667H11.6666C12.2189 12.6667 12.6666 12.219 12.6666 11.6667V9.33337" stroke-linecap="round"></path><path d="M10 3.33337H12.5667C12.6219 3.33337 12.6667 3.37815 12.6667 3.43337V6.00004" stroke-linecap="round"></path><path d="M7.33331 8.66668L12.5333 3.46667" stroke-linecap="round"></path><!--]--></svg><span>Open Sandbox</span><!--]--></a></div><!--[--><!----><!--]--><!--[--><!--[--><!----><!--]--><!--]--><!----></div><!--]--></div><!----><!----><!--[--><!----><div class="sp-c-hKwGhM sp-console-wrapper" style="flex-grow:0;flex-shrink:0;flex-basis:0;"><div class="sp-c-eMtObc sp-c-iVbYez sp-console sp-stack sp-c-iVbYez sp-console" style="" showsetupprogress="false" showrestartbutton="true" showresetconsolebutton="true" resetonpreviewrestart="false" showheader="false" showsyntaxerror="false" standalone="false"><!--[--><!----><div class="sp-c-hnVUJJ sp-console-list"><!--[--><!--[--><!--]--><!--]--></div><div class="sp-c-azwrb sp-console-actions"><!----><button title class="sp-icon-standalone sp-c-dzyEVt sp-c-gMfcns sp-c-dEbKhQ sp-button" type="button"><!--[--><svg fill="none" height="16" viewBox="0 0 16 16" stroke="currentColor" width="16" xmlns="http://www.w3.org/2000/svg"><!--[--><title>Restart script</title><path d="M8 2C4.68629 2 2 4.68629 2 8C2 10.0946 3.07333 11.9385 4.7 13.0118" stroke-linecap="round"></path><path d="M14.0005 7.9998C14.0005 5.82095 12.8391 3.91335 11.1016 2.8623" stroke-linecap="round"></path><path d="M14.0003 2.3335H11.167C10.8908 2.3335 10.667 2.55735 10.667 2.8335V5.66683" stroke-linecap="round"></path><path d="M1.99967 13.6665L4.83301 13.6665C5.10915 13.6665 5.33301 13.4426 5.33301 13.1665L5.33301 10.3332" stroke-linecap="round"></path><path d="M10 10L12 12L10 14" stroke-linecap="round" stroke-linejoin="round"></path><path d="M14.667 14L12.667 14" stroke-linecap="round" stroke-linejoin="round"></path><!--]--></svg><!--]--></button><button title class="sp-icon-standalone sp-c-dzyEVt sp-c-gMfcns sp-c-dEbKhQ sp-button" type="button"><!--[--><svg fill="none" height="16" viewBox="0 0 16 16" stroke="currentColor" width="16" xmlns="http://www.w3.org/2000/svg"><!--[--><title>Clean</title><circle cx="7.99998" cy="8.00004" r="4.66667" stroke-linecap="round"></circle><path d="M4.66669 4.66663L11.3334 11.3333"></path><!--]--></svg><!--]--></button></div><!----><!--]--></div></div><!--]--><!--]--><!--]--></div><!--]--></div><!--]--><!--]--></div><!--]--><!--]--><p>你需要修改 <code>serve.js</code> 文件夹内的 <code>secret</code> 并点击 <code>Restart Script</code>，再进行登录操作。</p><p>当看见 <code>Login success</code> 代表登录流程成功。 <br></p><!--]--></div></div><!--]--></div></div></div></main><nav class="footer-nav" data-v-a4863104 data-v-cfc32606><div class="button-group" data-v-cfc32606><a class="TVPButton info hidden button" href="#" data-v-cfc32606><!--[--> Back <!--]--><!----></a><div class="center" data-v-cfc32606></div><a class="TVPButton primary hidden button" href="#" data-v-cfc32606><!--[--> Next <!--]--><!----></a></div></nav><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    
    
  </body>
</html>